# ############################# Server Configuration ####################################
server:
  # Server listening address and port
  ip: 0.0.0.0
  port: 8000
  websocket: ws://localhost:8000/xiaozhi/v1/
  auth:
    enabled: false
    allowed_devices:
      - "11:22:33:44:55:66"
log:
  # log format: time - name - level - tag - message
  log_format: "%(asctime)s - %(levelname)s - [%(pathname)s: %(lineno)d] %(message)s"
  # log level: INFO, DEBUG, WARNING, ERROR, CRITICAL
  log_level: INFO
  # log path
  log_file: "tmp/server.log"


# Delete the sound file when you are done using it
delete_audio: true
# No voice input多久后断开连接(秒)，默认2分钟，即120秒
close_connection_no_voice_time: 120
# TTS请求超时时间(秒)
tts_timeout: 10
# Enable greeting
enable_greeting: true

audio_params:
    format: opus
    sample_rate: 16000
    channels: 1
    frame_duration: 60 

# system prompt template file
prompt_template: agent-base-prompt.txt

# 具体处理时选择的模块(The module selected for specific processing)
components:
  # Voice Activity Detection (VAD) module, default using Silero model
  vad: 
    provider: silero
    model: 
      type: local
      name: silero-vad
      dir: models/silero-vad
    output_dir: tmp/
    options:
      min_speech_duration: 0.05
      min_silence_duration: 0.55
      prefix_padding_duration: 0.5
      max_buffered_speech: 60.0
      activation_threshold: 0.5
      sample_rate: 16000
      force_cpu: true
  stt:
    provider: groq
    model: 
      type: remote
      name: whisper-large-v3
      base_url: https://api.groq.com/v1
    options:
      api_key: "your api key here"  # Or set GROQ_API_KEY env var
      language: en
      # prompt: "Optional transcription prompt"
  llm: 
    provider: groq
    model: 
      type: remote
      name: openai/gpt-oss-120b
      base_url: https://api.groq.com/v1
    options:
      api_key: "your api key here"  # Or set GROQ_API_KEY env var
      temperature: 0.7
      max_output_tokens: 500
      top_p: 1.0
      frequency_penalty: 0
      timeout: 60
      max_retries: 0
  tts: 
    provider: cartesia
    model: 
      type: remote
      name: sonic-3
      base_url: https://api.cartesia.com/v1
    options:
      api_key: "your api key here"  # Or set CARTESIA_API_KEY env var
      voice: "79a125e8-cd45-4c13-8a67-188112f4dd22"  # Default Cartesia voice
      language: en
      text_pacing: false
      api_version: "2025-04-16"
  Memory: 
    provider: mem0

